{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Facture {{ invoice.number }}</title>
    <link rel="stylesheet" href="{% static 'css/style_facture.css' %}">
</head>

<body>
<div class="header">
     <div class="company-block">

        <!-- Logo -->
        <div class="company-logo">
            <img src="file://{{ logo_image }}"
                 alt="Logo {{ company.name }}">
        </div>
        <!-- Infos société -->
        <div class="company">
            <h2>{{ company.name }}</h2>
            {{ company.address }}, {{ company.country }}<br>
            SIRET : {{ company.siret }}<br>
            {{ company.vat_number }}<br>
            <br>
            Email : {{ company.email }}<br>
            Téléphone : {{ company.phone }}
        </div>

    </div>

    <div class="client">
        <h2>Facturé à</h2>
        {{ client.full_name }}<br>
        {{ client.address }}<br>
        <br>
        Email : {{ client.email }}<br>
        Téléphone : {{ client.phone }}
    </div>
</div>

<h1>Facture</h1>

<div class="meta">
    Numéro de facture : <strong>{{ invoice.number }}</strong><br>
    Référence réservation : {{ reservation.reference }}<br>
    <br>
    Date d'émission : {{ invoice.issue_date }}<br>
    Date de réservation : {{ reservation.date }}<br>
</div>

<table>
    <thead>
        <tr>
            <th>Désignation</th>
            <th>Date</th>
            <th>Quantité</th>
            <th>Prix unitaire HT (€)</th>
        </tr>
    </thead>
    <tbody>
        {% for item in invoice.items %}
        <tr>
            <td>{{ item.description }}</td>
            <td>{{ item.date }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.unit_price_ht |floatformat:2 }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<table class="totals">
    <tr class="total">
        <td>Total TTC</td>
        <td style="text-align:right;">{{ invoice.total_ttc |floatformat:2 }} €</td>
    </tr>
</table>

<div style="clear:both;"></div>

{% if payment %}
<div class="meta">
    Mode de paiement : {{ payment.method }}<br>
    Statut : {{ payment.status }}<br>
    Date de paiement : {{ payment.date }}<br>
</div>
{% endif %}
<br><br>
Nous vous remercions de votre confiance.

<div class="footer">
    Facture émise par {{ company.name }} - Document généré électroniquement, valable sans signature.
</div>

</body>
</html>
